<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Stand-alone version of ImunifyAV+ | Documentation</title>
    <meta name="description" content="ImunifyAV documentation">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.a68efb69.css" as="style"><link rel="preload" href="/assets/js/app.faeec991.js" as="script"><link rel="preload" href="/assets/js/9.1f5ffb00.js" as="script"><link rel="prefetch" href="/assets/js/10.7337f534.js"><link rel="prefetch" href="/assets/js/3.4cdcf84c.js"><link rel="prefetch" href="/assets/js/4.3bff90d2.js"><link rel="prefetch" href="/assets/js/5.a15c8d4b.js"><link rel="prefetch" href="/assets/js/6.57d94bf5.js"><link rel="prefetch" href="/assets/js/7.b27eb777.js"><link rel="prefetch" href="/assets/js/8.ce4bf367.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.2f4e28c8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a68efb69.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Documentation" class="logo"> <span class="site-name site-name--documentation can-hide">Documentation</span></a> <form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <div class="links" style="max-width:nullpx;"><a href="https://www.imunify360.com/antivirus" target="_blank" class="btn">
      Get Free
    </a> <nav class="nav-links can-hide"></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><div class="sidebar-heading open"><span>Contents</span> <!----></div> <ul class="sidebar-group-items"><li><a href="/imunifyav/" class="sidebar-link">ImunifyAV for cPanel and DirectAdmin</a></li><li><a href="/cli/" class="sidebar-link">Command-Line Interface</a></li><li><a href="/stand_alone_mode/" class="active sidebar-link">Stand-alone version of ImunifyAV+</a></li><li><a href="/imunifyav_for_plesk/" class="sidebar-link">ImunifyAV/ImunifyAV+ for Plesk</a></li><li><a href="/imunifyav_for_ispmanager/" class="sidebar-link">ImunifyAV/ImunifyAV+ for ISPmanager</a></li></ul></div></li></ul> </div> <div class="page"> <div class="breadcrumb-wrapper page-breadcrumb" data-v-5e0e0acf><span class="breadcrumb-title" data-v-5e0e0acf>Documentation:</span> <a href="/stand_alone_mode/" class="breadcrumb router-link-exact-active router-link-active" data-v-5e0e0acf>
    Stand-alone version of ImunifyAV+
  </a></div> <div class="page-nav-wrapper"><div class="page-nav"><a href="/cli/" class="nav-arrow left"></a> <a href="/imunifyav_for_plesk/" class="nav-arrow right"></a></div></div> <div class="content"><h1 id="stand-alone-version-of-imunifyav"><a href="#stand-alone-version-of-imunifyav" aria-hidden="true" class="header-anchor">#</a> Stand-alone version of ImunifyAV+</h1> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>Prior to version 4.3, ImunifyAV supported cPanel and DirectAdmin panels only. Starting from v4.3, ImunifyAV could be run on any CloudLinux OS, CentoOS 6/7 and RHEL 6/7 systems that have a required set of prerequisites. It doesn’t require any hosting panel installed, and can be run with any panel, as the UI is implemented using the Single Page Application paradigm.</p></div> <p>Below you can find the steps to install and run ImunifyAV, in stand-alone mode, or within any hosting panel.</p> <p>There are some basic steps to run ImunifyAV as a stand-alone application:</p> <ol><li>Define a way to serve web-based UI</li> <li>Provide ImunifyAV with an actual list of users in the system</li> <li>Configure a user authentication process</li></ol> <div class="warning custom-block"><p class="custom-block-title">Warning</p> <p>Imunify Web-UI PHP code has to be executed under a user which has access to <code>/var/run/defence360agent/non_root_simple_rpc.sock</code>. If it runs in CageFS, you'll need to configure it accordingly.</p></div> <h4 id="how-to-configure-imunifyav-ui"><a href="#how-to-configure-imunifyav-ui" aria-hidden="true" class="header-anchor">#</a> How to configure ImunifyAV UI</h4> <div class="warning custom-block"><p class="custom-block-title">Note</p> <p>Imunify UI requires PHP function <code>passthru</code> to be enabled. If you are unable to log in, you might see a related message in the <code>errror.log</code> of the web-server.
If so, please remove it from the <code>disable_functions</code> list in <code>php.ini</code>.</p></div> <p>Create the file <code>/etc/sysconfig/imunify360/integration.conf</code> with the <code>UI_PATH</code> option defining the path that will serve web-based UI.</p> <p>For example:</p> <div class="language- extra-class"><pre class="language-text"><code>[PATHS]
UI_PATH = /var/www/vhosts/imav/imav.example-hosting.com/html/imav
</code></pre></div><p>ImunifyAV will automatically copy UI files there during installation/upgrade.</p> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>Ensure that the domain you are going to use for the ImunifyAV web-based UI refers to this path, and that there are no other scripts or files under <code>UI_PATH</code>, as they might be overridden by the ImunifyAV installation.</p></div> <h4 id="how-to-provide-imunifyav-with-an-actual-list-of-users-optional"><a href="#how-to-provide-imunifyav-with-an-actual-list-of-users-optional" aria-hidden="true" class="header-anchor">#</a> How to provide ImunifyAV with an actual list of users (optional)</h4> <p>By default, ImunifyAV will use Linux system users, limited by <code>UID_MIN</code> and <code>UID_MAX</code> from <code>/etc/login.defs</code>.</p> <p>If you want to see a specific list of users (note, that all of them must be real linux users accessible via PAM), you can specify the <code>USER_LIST_SCRIPT</code> option in <code>/etc/sysconfig/imunify360/integration.conf</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>[PATHS]
UI_PATH = …
USER_LIST_SCRIPT = /path/to/get-users-script.sh
</code></pre></div><p>It should point to an executable file that generates a json file with the following schema (domains are optional):</p> <div class="language- extra-class"><pre class="language-text"><code>{&quot;version&quot;: 1, &quot;users&quot;: [{&quot;name&quot;: &quot;user1&quot;, &quot;domains&quot;: [&quot;user1.com&quot;]}, {&quot;name&quot;: &quot;user2&quot;},..]}
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p> <p>Any type of executable file is acceptable. For example, you can use a Python or PHP script.</p></div> <h4 id="how-to-configure-authentication-for-imunifyav-optional"><a href="#how-to-configure-authentication-for-imunifyav-optional" aria-hidden="true" class="header-anchor">#</a> How to configure authentication for ImunifyAV (optional)</h4> <p>ImunifyAV can use PAM to authenticate users.</p> <p>Once the UI is opened, the user sees a sign-in form. The credentials are checked via PAM.</p> <p>You can specify which PAM service ImunifyAV should use with the <code>SERVICE_NAME</code> option:</p> <div class="language- extra-class"><pre class="language-text"><code>[PAM]
SERVICE_NAME = system-auth
</code></pre></div><p>If it is not specified, the “<code>system-auth</code>” service is used.</p> <p>By default, “<code>root</code>” is considered to be the only “admin” user.</p> <p>To add more administrators, list them in the <code>/etc/sysconfig/imunify360/auth.admin</code> file.</p> <h4 id="how-to-install-imunifyav"><a href="#how-to-install-imunifyav" aria-hidden="true" class="header-anchor">#</a> How to install ImunifyAV</h4> <p>Now everything is ready to install ImunifyAV.</p> <p>The installation instructions are the same as for cPanel/DirectAdmin version, and can be found in the technical documentation: <a href="/imunifyav/#installation-instructions">https://docs.imunifyav.com/imunifyav/#installation-instructions</a>.</p> <h4 id="how-to-open-imunifyav-ui"><a href="#how-to-open-imunifyav-ui" aria-hidden="true" class="header-anchor">#</a> How to open ImunifyAV UI</h4> <p>Once ImunifyAV is installed, the web-based UI is available via the domain configured in <code>UI_PATH</code>.</p> <p>For example:</p> <p>if <code>/var/www/vhosts/imav/imav.example-hosting.com/html/imav</code> is the document root folder for imav.example-hosting.com domain, then you could open ImunifyAV with the following URL:</p> <ul><li><code>https://imav.example-hosting.com/</code> (when you have TLS certificate configured for the domain)
or</li> <li><code>http://imav.example-hosting.com/</code></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/cloudlinux/imunifyav-doc/edit/dev/docs/stand_alone_mode/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="back-to-top" data-v-5366e0dd><a href="/stand_alone_mode/#app" class="nav-arrow top back-to-top__link" data-v-5366e0dd></a></div> </div> <div class="footer" data-v-20b89de8><div data-v-20b89de8><a href="https://cloudlinux.com" data-v-20b89de8><img src="/assets/img/we-are-cloudlinux.783ed390.svg" alt="We are Cloudlinux" data-v-20b89de8></a></div> <div class="footer-company-title" data-v-20b89de8>2019. CloudLinux Inc</div> <div data-v-20b89de8><div data-v-20b89de8><a href="https://cloudlinux.zendesk.com/hc/sections/115001344329-How-do-I" target="_blank" data-v-20b89de8>How to</a></div><div data-v-20b89de8><a href="https://www.imunify360.com/antivirus" target="_blank" data-v-20b89de8>Getting started</a></div><div data-v-20b89de8><a href="https://cloudlinux.zendesk.com/hc/requests/new" target="_blank" data-v-20b89de8>Contact support</a></div><div data-v-20b89de8><a href="https://www.imunify360.com/blog" target="_blank" data-v-20b89de8>Blog</a></div></div> <div class="social" data-v-20b89de8><span class="footer-social-text" data-v-20b89de8></span> <a href="https://www.facebook.com/imunify360/" target="_blank" data-v-20b89de8><img src="/fb.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://twitter.com/imunify360/" target="_blank" data-v-20b89de8><img src="/tw.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://linkedin.com/company/cloudlinux" target="_blank" data-v-20b89de8><img src="/in.png" class="footer-social-logo" data-v-20b89de8></a><a href="https://www.youtube.com/channel/UCcW6dDJjcy41c7Hl_5LdLZQ" target="_blank" data-v-20b89de8><img src="/ytube.png" class="footer-social-logo" data-v-20b89de8></a></div></div> <!----></div></div>
    <script src="/assets/js/app.faeec991.js" defer></script><script src="/assets/js/9.1f5ffb00.js" defer></script>
  </body>
</html>
